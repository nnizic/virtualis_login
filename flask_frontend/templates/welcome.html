<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Welcome</title>
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='css/styles.css') }}"
    />
  </head>
  <body>
    <div class="container">
      <div class="login-form">
        <h2>Welcome, {{ username }}!</h2>
        <p>
          Your verification code:
          <strong id="verificationCode"
            >{{ session['verification_code'] }}</strong
          >
        </p>

        <!-- botun za kopiranje koda -->
        <button onclick="copyVerificationCode()">Copy Code</button>

        <!-- redirekcija -->
        <p>
          <a href="{{ url_for('user_page', user_uuid=session['user_uuid']) }}"
            >Proceed to Verification</a
          >
        </p>

        <p><a href="{{ url_for('logout') }}">Log out</a></p>
      </div>
    </div>

    <script type="text/javascript">
      function copyVerificationCode() {
        // verification code element
        var verificationCode =
          document.getElementById("verificationCode").innerText;

        // kopiranje koda na clipboard
        navigator.clipboard.writeText(verificationCode).then(
          function () {
            // Successfully copied the code
            alert("Verification code copied to clipboard!");
          },
          function () {
            // Error
            alert("Failed to copy the verification code.");
          },
        );
      }
    </script>
  </body>
</html>
